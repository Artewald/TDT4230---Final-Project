
if (hit.hit) {
    // ray = Ray(hit.point + hit.normal, reflect(ray.direction, hit.normal));
    vec3 new_dir = get_random_hemisphere_direction(hit.normal, get_pixel_id()+NN*(i+1)*89433);
    if (new_dir == vec3(0.0, 0.0, 0.0)) {
        new_dir = get_random_hemisphere_direction(hit.normal, get_pixel_id()+NN*(i+100)*89433);
    }
    ray = Ray(hit.point + hit.normal, new_dir);
    hit = voxel_hit(ray);
    color *= hit.color;
}
